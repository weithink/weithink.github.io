---
layout: default
---

## 接口文档
> 调用App的jsBridge window对象为  `__SHANGHAIWEICHUANG_KAIXINBT__web2app__`   
> ### 交互参数类型为字典类型,如果接口名后面（） 中有参数，则是需要参数
> 传参中的参数列表，均为 data 字典中对应的key 值
> 回参中的参数列表，对应callback() 中参数字典的key 值
>### 格式如下：

```java
{key:value,key:value}
```

### 1.获取系统信息
>getSystemInfo(String data)

|参数 | 是否必填 | 释义 |
| -------- | -------- | -------- |
| callback    | 是    | App 调用js的函数对象     |

>回调结果 以key:value 的形式  
>### 示例

```java
{code:'0',msg:'参数错误'}
```

|参数 | 是否必填 | 类型| 释义 |
| -------- | --------|--- | -------- |
| code    | 是   | number  | 返回状态 0 为成功，-1为失败|
| system    | 是 (成功时)   | String  | 系统类型 android  / ios|
| statusBarHeight    | 是 (成功时)   | String  | 获取当前手机的状态栏高度，像素单位|
|version | 是(成功时)   | String  | 版本信息 如：3.2.1|
| msg    | 是    | String | 如果失败，会提示错误信息    |

### 2.设置导航栏
>setNavigation(String data)

|参数 | 是否必填 | 释义 |
| -------- | -------- | -------- |
| callback    | 是    | App 调用js的函数对象     |
| state    | 是    | 是否显示导航栏  hidden 隐藏 、show 显示    |
| showStatusBar    | 是    | 是否显示状态栏  值：1-使用，0-不使用  |
| title    | 是    | 设置导航栏的标题     |

> 回调

|参数 | 是否必填 | 类型| 释义 |
| -------- | --------|--- | -------- |
| code    | 是   | number  | 返回状态 0 为成功，-1为失败|
| msg    | 是    | String | 如果失败，会提示错误信息    |

### 3.新开窗口打开页面
>openWebPage(String data)
>

|参数 | 是否必填 | 释义 |
| -------- | -------- | -------- |
| callback    | 是    | App 调用js的函数对象     |
| url    | 是    | 需要打开的url    |
| useStatusBar    | 是    | 打开新的页面，是否用原生填充状态栏  值：1-使用，0-不使用  |
| showNavigation    | 是    | 打开新的页面，是否用原生导航栏  值：1-使用，0-不使用  |
| showLoadVIew    | 否    | 打开新的页面，是否用原生加载（转圈圈）  值：1-使用，0-不使用  |

>回调

|参数 | 是否必填 | 类型| 释义 |
| -------- | --------|--- | -------- |
| code    | 是   | number  | 返回状态 0 为成功，-1为失败|
| msg    | 是    | String | 如果失败，会提示错误信息    |

### 4.打开APP指定界面
>openAppPage(String data)

|参数 | 是否必填 | 释义 |
| -------- | -------- | -------- |
| callback    | 是    | App 调用js的函数对象     |
| name    | 是    | 打开指定页面 1. findPwd 找回用户密码 2.login 登录页 3.register 注册页 |
>回调

|参数 | 是否必填 | 类型| 释义 |
| -------- | --------|--- | -------- |
| code    | 是   | number  | 返回状态 0 为成功，-1为失败|
| msg    | 是    | String | 如果失败，会提示错误信息    |


### 5.调用原生的返回 -- 若需要传递链接，来让原生打开，就在参数里添加
>appback(String dat)


|参数 | 是否必填 | 释义 |

| url    | 否    | 需要打开的url    |

### 6.调用通讯录选择联系人
> getTelBook(String data)

|参数 | 是否必填 | 释义 |
| -------- | -------- | -------- |
| callback    | 是    | App 调用js的函数对象     |

>回调

|参数 | 是否必填 | 类型| 释义 |
| -------- | --------|--- | -------- |
| code    | 是   | number  | 返回状态 0 为成功，-1为失败|
| name    | 是   | String  | 返回用户选中的联系人的姓名 如果获取不到，则为“”|
| tel    | 是   | String  | 返回用户选中的联系人的联系电话，如果有多个，只返回第一个，如果获取不到，则判定为失败，返回错误信息|
| msg    | 是    | String | 如果失败，会提示错误信息    |

### 7.获取用户vid
> getUserInfo(String data)

|参数 | 是否必填 | 释义 |
| -------- | -------- | -------- |
| callback    | 是    | App 调用js的函数对象     |

>回调

|参数 | 是否必填 | 类型| 释义 |
| -------- | --------|--- | -------- |
| code    | 是   | number  | 返回状态 0 为成功，-1为失败|
| vid    | 是   | String  | 返回当前登录用户的vid|
| msg    | 是    | String | 如果失败，会提示错误信息    |


### 8. 清除用户信息
> 用来退出登录使用
> logOut(String data)

|参数 | 是否必填 | 释义 |
| -------- | -------- | -------- |
| callback    | 是    | App 调用js的函数对象     |

>回调

|参数 | 是否必填 | 类型| 释义 |
| -------- | --------|--- | -------- |
| code    | 是   | number  | 返回状态 0 为成功，-1为失败|
| msg    | 是    | String | 如果失败，会提示错误信息    |


### 9. 调用实名验证
>checkFaceLiveness()

|参数 | 是否必填 | 释义 |
| -------- | -------- | -------- |
| callback    | 是    | App 调用js的函数对象     |


>回调

|参数 | 是否必填 | 类型| 释义 |
| -------- | --------|--- | -------- |
| code    | 是   | number  | 返回状态 0 为成功，-1为失败|
| msg    | 是    | String | 如果失败，会提示错误信息   返回认证结果信息 分别为   认证通过/认证不通过/未认证，用户取消/认证中/系统异常/  |


### 10.返回上一页，如果H5有上一页历史记录就返回上一页H5，如果没有就是返回上一个webview
>returnPreviousLevelView(String data)

|参数 | 是否必填 | 释义 |
| -------- | -------- | -------- |
| callback    | 是    | App 调用js的函数对象     |




>>回调

|参数 | 是否必填 | 类型| 释义 |
| -------- | --------|--- | -------- |
| code    | 是   | number  | 返回状态 0 为成功，-1为失败|
| msg    | 是    | String | 如果失败，会提示错误信息    |
